<!DOCTYPE html>
<html>
<head>
  <title>Customer Churn Predictor</title>
  <style>
    body { font-family: Arial; background: #f2f2f2; padding: 20px; }
    form { background: #fff; padding: 20px; border-radius: 8px; max-width: 600px; margin: auto; }
    input, select { width: 100%; padding: 10px; margin: 10px 0; }
    button { padding: 10px 20px; background: #007BFF; color: white; border: none; border-radius: 5px; }
    #result { font-weight: bold; margin-top: 20px; }
  </style>
  <link rel="icon" href="data:,">
</head>
<body>
  <form id="churnForm">
    <h2>Customer Churn Prediction</h2>
    <input type="number" name="Age" placeholder="Age" required>
    <select name="Gender">
      <option value="Male">Male</option>
      <option value="Female">Female</option>
    </select>
    <select name="State">
      <option value="Maharashtra">Maharashtra</option>
      <option value="Karnataka">Karnataka</option>
      <option value="Delhi">Delhi</option>
      <option value="Gujarat">Gujarat</option>
    </select>
    <select name="ServiceType">
      <option value="Prepaid">Prepaid</option>
      <option value="Postpaid">Postpaid</option>
    </select>
    <input type="number" step="0.01" name="MonthlyCharges" placeholder="Monthly Charges" required>
    <input type="number" name="TenureMonths" placeholder="Tenure in Months" required>
    <input type="number" step="0.01" name="InternetUsageGB" placeholder="Internet Usage (GB)" required>
    <input type="number" name="CallDropsPerMonth" placeholder="Call Drops per Month" required>
    <input type="number" name="ComplaintsLast6Months" placeholder="Complaints in Last 6 Months" required>
    <select name="IsActive">
      <option value="Yes">Yes</option>
      <option value="No">No</option>
    </select>
    <select name="PaymentMethod">
      <option value="UPI">UPI</option>
      <option value="Credit Card">Credit Card</option>
      <option value="Debit Card">Debit Card</option>
      <option value="Net Banking">Net Banking</option>
    </select>
    <button type="submit">Predict Churn</button>
    <div id="result"></div>
  </form>

  <script>
    document.getElementById('churnForm').addEventListener('submit', async function (e) {
      e.preventDefault();
      const formData = new FormData(e.target);
      const data = {};
      formData.forEach((value, key) => { data[key] = value });

      const response = await fetch('http://localhost:5000/predict', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });

      const result = await response.json();
      document.getElementById('result').innerText = "Prediction: " + result.prediction;
    });
  </script>
</body>
</html>
